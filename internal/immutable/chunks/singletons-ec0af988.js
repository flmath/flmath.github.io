import{A as l,s as g}from"./index-eab23a56.js";const u=[];function b(e,n=l){let t;const i=new Set;function a(s){if(g(e,s)&&(e=s,t)){const c=!u.length;for(const o of i)o[1](),u.push(o,e);if(c){for(let o=0;o<u.length;o+=2)u[o][0](u[o+1]);u.length=0}}}function f(s){a(s(e))}function r(s,c=l){const o=[s,c];return i.add(o),i.size===1&&(t=n(a)||l),s(e),()=>{i.delete(o),i.size===0&&(t(),t=null)}}return{set:a,update:f,subscribe:r}}let d="",p="";function U(e){d=e.base,p=e.assets||d}function w(e){let n=e.baseURI;if(!n){const t=e.getElementsByTagName("base");n=t.length?t[0].href:e.URL}return n}function R(){return{x:pageXOffset,y:pageYOffset}}function y(e){return e.composedPath().find(t=>t instanceof Node&&t.nodeName.toUpperCase()==="A")}function T(e){return e instanceof SVGAElement?new URL(e.href.baseVal,document.baseURI):new URL(e.href)}function h(e){const n=b(e);let t=!0;function i(){t=!0,n.update(r=>r)}function a(r){t=!1,n.set(r)}function f(r){let s;return n.subscribe(c=>{(s===void 0||t&&c!==s)&&r(s=c)})}return{notify:i,set:a,subscribe:f}}function m(){const{set:e,subscribe:n}=b(!1);let t;async function i(){clearTimeout(t);const a=await fetch(`${p}/internal/version.json`,{headers:{pragma:"no-cache","cache-control":"no-cache"}});if(a.ok){const{version:f}=await a.json(),r=f!=="1662441897102";return r&&(e(!0),clearTimeout(t)),r}else throw new Error(`Version check failed: ${a.status}`)}return{subscribe:n,check:i}}function k(e){e.client}const q={url:h({}),page:h({}),navigating:b(null),updated:m()};export{T as a,R as b,U as c,y as f,w as g,k as i,q as s};
